DROP ALL OBJECTS;


CREATE TABLE AUTHORITIES (
	AUTH_ID  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	AUTH_LIB_AUTH VARCHAR(64) NOT NULL,
	AUTH_USER_CREA VARCHAR(64) NOT NULL,
	AUTH_CREA_DATE TIMESTAMP NOT NULL,
	AUTH_USER_UPD VARCHAR(64) NOT NULL,
	AUTH_UPD_DATE TIMESTAMP NOT NULL,
	AUTH_SUP_DATE TIMESTAMP NULL
);

CREATE TABLE USERS (
	USR_ID  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	USR_USERNAME VARCHAR(64) NOT NULL,
	USR_PASSWORD VARCHAR(128) NOT NULL,
	USR_ACTIVATION_DATE SMALLDATETIME NULL,
	USR_USER_CREA VARCHAR(64) NOT NULL,
	USR_CREA_DATE TIMESTAMP NOT NULL,
	USR_USER_UPD VARCHAR(64) NOT NULL,
	USR_UPD_DATE TIMESTAMP NOT NULL,
	USR_SUP_DATE TIMESTAMP NULL,
	AUTH_ID	INTEGER NOT NULL
);

ALTER TABLE USERS ADD CONSTRAINT FK_USERS_AUTHORITIES FOREIGN KEY (AUTH_ID) REFERENCES AUTHORITIES(AUTH_ID);

CREATE TABLE PRODUCTS (
	PRD_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	PRD_NAME VARCHAR(64) NOT NULL,
	PRD_BARCODE NUMERIC(13) NOT NULL,
	PRD_USER_CREA VARCHAR(64) NOT NULL,
	PRD_CREA_DATE TIMESTAMP NOT NULL,
	PRD_USER_UPD VARCHAR(64) NOT NULL,
	PRD_UPD_DATE TIMESTAMP NOT NULL,
	PRD_SUP_DATE TIMESTAMP NULL
);



